{"version":3,"file":"pow-core.min.js","sources":["pow-core.js"],"names":["pow2","errors","INVALID_ARGUMENTS","DIVIDE_ZERO","CLASS_NOT_IMPLEMENTED","REQUIRED_ARGUMENT","ALREADY_EXISTS","getWorld","name","_worldLookup","registerWorld","instance","Error","hasOwnProperty","unregisterWorld","Events","prototype","on","callback","context","eventsApi","this","_events","events","push","ctx","once","self","_","off","apply","arguments","_callback","retain","ev","names","i","l","j","k","keys","length","trigger","args","_i","Array","slice","call","allEvents","all","triggerEvents","eventSplitter","obj","action","rest","key","concat","test","split","a1","a2","a3","__extends","d","b","__","constructor","p","Resource","_super","url","data","loader","_ready","load","setLoader","isReady","ready","READY","failed","FAILED","Point","pointOrX","y","set","x","parseFloat","zero","toString","clone","floor","Math","round","add","pointOrXOrValue","subtract","multiply","divide","inverse","equal","point","isZero","interpolate","from","to","factor","min","max","Rect","rectOrPointOrX","extentOrY","width","height","extent","clip","clipRect","right","bottom","isValid","intersect","pointInRect","getCenter","toFixed","setCenter","getLeft","getTop","getRight","getBottom","getHalfSize","addPoint","value","inflate","AudioResource","_this","sources","types","invalid","incrementFailure","path","join","reference","document","createElement","each","mime","extension","canPlayType","source","type","src","addEventListener","e","preventDefault","stopImmediatePropagation","appendChild","mp3","ogg","wav","ImageResource","onload","onerror","err","JSONResource","request","$","getJSON","done","object","fail","jqxhr","settings","exception","ScriptResource","getScript","script","XMLResource","get","prepare","getElTag","el","prop","toLowerCase","getRootNode","tag","find","tagName","getChildren","list","compact","map","c","child","parent","getChild","getElAttribute","attr","_shared","Time","options","autoStart","tickRateMS","mspf","world","lastTime","time","running","objects","extend","polyFillAnimationFrames","start","_frameCallback","now","Date","getMilliseconds","elapsed","tickObjects","processFrame","window","requestAnimationFrame","stop","removeObject","reject","o","_uid","addObject","where","elapsedMS","values","tick","vendors","currTime","getTime","timeToCall","tickListener","id","setTimeout","State","transitions","enter","exit","update","machine","t","evaluate","setCurrentState","targetState","StateTransition","StateMachine","defaultState","states","_currentState","_previousState","_newState","onAddToWorld","onRemoveFromWorld","addState","state","addStates","unique","getCurrentState","getCurrentName","newState","getState","oldState","console","warn","error","getPreviousState","s","TickedStateMachine","paused","World","services","defaults","ResourceLoader","mark","setService","erase","_cache","_types","png","js","json","xml","tmx","TiledTMXResource","tsx","TiledTSXResource","_doneQueue","uniqueId","doneQueue","cb","result","registerType","getResourceExtension","index","lastIndexOf","substr","create","typeConstructor","loadAsType","resourceType","completeCb","defer","resource","log","_checkDone","loadQueue","results","isArray","tiled","readITiledBase","parseInt","visible","_xml","readITiledLayerBase","opacity","props","readTiledProperties","properties","propsObject","checkValue","isNaN","TilesetTile","tilewidth","tileheight","imageWidth","imageHeight","image","firstgid","tiles","tileSet","ts","tile","res","xUnits","yUnits","tileCount","tileLookup","hasGid","gid","getTileMeta","gidOrIndex","tilesX","orientation","version","tilesets","layers","objectGroups","$map","tileSetDeps","tileSets","firstGid","layer","tileLayer","encoding","JSON","parse","trim","text","$group","objectGroup","color","_next","dep","shift","tsr"],"mappings":"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"}