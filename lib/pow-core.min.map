{"version":3,"file":"pow-core.min.js","sources":["pow-core.js"],"names":["pow2","getWorld","name","_worldLookup","registerWorld","instance","Error","hasOwnProperty","unregisterWorld","Events","prototype","on","callback","context","eventsApi","this","_events","events","push","ctx","once","self","_","off","apply","arguments","_callback","retain","ev","names","i","l","j","k","keys","length","trigger","args","_i","Array","slice","call","allEvents","all","triggerEvents","eventSplitter","obj","action","rest","key","concat","test","split","a1","a2","a3","__extends","d","b","__","constructor","p","Resource","_super","url","data","loader","_ready","load","console","log","setLoader","isReady","ready","READY","failed","error","FAILED","Point","pointOrX","y","set","x","parseFloat","zero","toString","clone","copy","from","truncate","Math","floor","round","add","pointOrXOrValue","subtract","point","multiply","divide","inverse","equal","isZero","interpolate","to","factor","min","max","magnitude","sqrt","magnitudeSquared","normalize","m","Rect","rectOrPointOrX","extentOrY","width","height","extent","clamp","rect","clip","clipRect","right","bottom","isValid","intersect","pointInRect","getCenter","toFixed","setCenter","scale","value","ceil","getLeft","getTop","getRight","getBottom","getHalfSize","addPoint","inflate","AudioResource","_this","sources","types","invalid","incrementFailure","path","join","reference","document","createElement","each","mime","extension","canPlayType","source","type","src","addEventListener","e","preventDefault","stopImmediatePropagation","appendChild","mp3","ogg","wav","ImageResource","onload","onerror","err","JSONResource","request","$","getJSON","done","object","fail","jqxhr","settings","exception","ScriptResource","getScript","script","XMLResource","get","prepare","getElTag","el","prop","toLowerCase","getRootNode","tag","find","tagName","getChildren","list","compact","map","c","child","parent","getChild","getElAttribute","attr","_shared","Time","options","autoStart","tickRateMS","mspf","world","lastTime","time","running","objects","extend","polyFillAnimationFrames","start","_frameCallback","now","Date","getMilliseconds","elapsed","tickObjects","processFrame","window","requestAnimationFrame","stop","removeObject","reject","o","_uid","addObject","where","elapsedMS","values","tick","vendors","currTime","getTime","timeToCall","tickListener","id","setTimeout","State","transitions","enter","exit","update","machine","t","evaluate","setCurrentState","targetState","StateTransition","StateMachine","defaultState","states","_currentState","_previousState","_newState","onAddToWorld","onRemoveFromWorld","addState","state","addStates","unique","getCurrentState","getCurrentName","newState","getState","oldState","warn","getPreviousState","s","TickedStateMachine","paused","World","services","defaults","ResourceLoader","mark","setService","erase","_cache","_types","png","js","json","xml","tmx","TiledTMXResource","tsx","TiledTSXResource","_doneQueue","uniqueId","doneQueue","cb","result","ensureType","getResourceExtension","index","lastIndexOf","substr","create","typeConstructor","loadAsType","resourceType","completeCb","defer","resource","_checkDone","loadQueue","results","isArray","tiled","readITiledBase","parseInt","visible","readITiledLayerBase","opacity","props","readTiledProperties","properties","propsObject","checkValue","isNaN","TilesetTile","tilewidth","tileheight","imageWidth","imageHeight","image","firstgid","tiles","tileSet","ts","tile","res","xUnits","yUnits","tileCount","tileLookup","hasGid","gid","getTileMeta","gidOrIndex","tilesX","orientation","version","tilesets","layers","objectGroups","$map","tileSetDeps","tileSets","layer","tileLayer","encoding","JSON","parse","trim","text","$group","objectGroup","color","_next","dep","shift","tsr"],"mappings":"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"}